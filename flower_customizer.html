<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Shape Customizer</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background-color: #333;
            color: #fff;
        }
        .container {
            text-align: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
        }
        input[type="range"] {
            width: 300px;
            margin: 20px 0;
        }
        label {
            display: block;
            margin-bottom: 10px;
        }
        .controls {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Shape Customizer</h1>
        
        <!-- SVG Container -->
        <svg id="shape-svg" width="300" height="300" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
          <defs>
             <filter id="blur">
              <feGaussianBlur in="SourceGraphic" stdDeviation="3" />
            </filter>
            
            <clipPath id="shape-clip">
                <use href="#star-shape" />
            </clipPath>
          </defs>
        
          <!-- Background Vectors (Clipped to Shape) -->
          <g id="background-vectors" clip-path="url(#shape-clip)" transform="scale(0.25)">
              <g fill="none" stroke-width="6.75" stroke="hsl(335, 77%, 50%)" stroke-linecap="round" transform="matrix(1.7,0,0,1.7,-280.00000400543206,-280)">
                  <line x1="315.5" y1="400" x2="484.5" y2="400" transform="rotate(0, 400, 400)" opacity="0.96"></line><line x1="689" y1="400" x2="111" y2="400" transform="rotate(2, 400, 400)" opacity="0.73"></line><line x1="147.5" y1="400" x2="652.5" y2="400" transform="rotate(4, 400, 400)" opacity="0.51"></line><line x1="100.5" y1="400" x2="699.5" y2="400" transform="rotate(6, 400, 400)" opacity="0.52"></line><line x1="73" y1="400" x2="727" y2="400" transform="rotate(8, 400, 400)" opacity="0.54"></line><line x1="438" y1="400" x2="362" y2="400" transform="rotate(10, 400, 400)" opacity="0.93"></line><line x1="283.5" y1="400" x2="516.5" y2="400" transform="rotate(12, 400, 400)" opacity="0.41"></line><line x1="139.5" y1="400" x2="660.5" y2="400" transform="rotate(14, 400, 400)" opacity="0.70"></line><line x1="651.5" y1="400" x2="148.5" y2="400" transform="rotate(16, 400, 400)" opacity="0.78"></line><line x1="526" y1="400" x2="274" y2="400" transform="rotate(18, 400, 400)" opacity="0.35"></line><line x1="362" y1="400" x2="438" y2="400" transform="rotate(20, 400, 400)" opacity="0.53"></line><line x1="276" y1="400" x2="524" y2="400" transform="rotate(22, 400, 400)" opacity="0.82"></line><line x1="136.5" y1="400" x2="663.5" y2="400" transform="rotate(24, 400, 400)" opacity="0.19"></line><line x1="601.5" y1="400" x2="198.5" y2="400" transform="rotate(26, 400, 400)" opacity="0.78"></line><line x1="412.5" y1="400" x2="387.5" y2="400" transform="rotate(28, 400, 400)" opacity="0.33"></line><line x1="679.5" y1="400" x2="120.5" y2="400" transform="rotate(30, 400, 400)" opacity="0.36"></line><line x1="343.5" y1="400" x2="456.5" y2="400" transform="rotate(32, 400, 400)" opacity="0.99"></line><line x1="526" y1="400" x2="274" y2="400" transform="rotate(34, 400, 400)" opacity="0.68"></line><line x1="531.5" y1="400" x2="268.5" y2="400" transform="rotate(36, 400, 400)" opacity="1.00"></line><line x1="473" y1="400" x2="327" y2="400" transform="rotate(38, 400, 400)" opacity="0.34"></line><line x1="567" y1="400" x2="233" y2="400" transform="rotate(40, 400, 400)" opacity="0.50"></line><line x1="629.5" y1="400" x2="170.5" y2="400" transform="rotate(42, 400, 400)" opacity="0.75"></line><line x1="565.5" y1="400" x2="234.5" y2="400" transform="rotate(44, 400, 400)" opacity="0.33"></line><line x1="433" y1="400" x2="367" y2="400" transform="rotate(46, 400, 400)" opacity="0.82"></line><line x1="183.5" y1="400" x2="616.5" y2="400" transform="rotate(48, 400, 400)" opacity="0.69"></line><line x1="398" y1="400" x2="402" y2="400" transform="rotate(50, 400, 400)" opacity="0.77"></line><line x1="64.5" y1="400" x2="735.5" y2="400" transform="rotate(52, 400, 400)" opacity="0.61"></line><line x1="606" y1="400" x2="194" y2="400" transform="rotate(54, 400, 400)" opacity="0.77"></line><line x1="294.5" y1="400" x2="505.5" y2="400" transform="rotate(56, 400, 400)" opacity="0.57"></line><line x1="540" y1="400" x2="260" y2="400" transform="rotate(58, 400, 400)" opacity="0.46"></line><line x1="177.5" y1="400" x2="622.5" y2="400" transform="rotate(60, 400, 400)" opacity="0.98"></line><line x1="480" y1="400" x2="320" y2="400" transform="rotate(62, 400, 400)" opacity="0.12"></line><line x1="481.5" y1="400" x2="318.5" y2="400" transform="rotate(64, 400, 400)" opacity="0.29"></line><line x1="710.5" y1="400" x2="89.5" y2="400" transform="rotate(66, 400, 400)" opacity="0.14"></line><line x1="600" y1="400" x2="200" y2="400" transform="rotate(68, 400, 400)" opacity="0.27"></line><line x1="114" y1="400" x2="686" y2="400" transform="rotate(70, 400, 400)" opacity="0.45"></line><line x1="52.5" y1="400" x2="747.5" y2="400" transform="rotate(72, 400, 400)" opacity="0.42"></line><line x1="377" y1="400" x2="423" y2="400" transform="rotate(74, 400, 400)" opacity="0.46"></line><line x1="281.5" y1="400" x2="518.5" y2="400" transform="rotate(76, 400, 400)" opacity="0.47"></line><line x1="388" y1="400" x2="412" y2="400" transform="rotate(78, 400, 400)" opacity="0.25"></line><line x1="736" y1="400" x2="64" y2="400" transform="rotate(80, 400, 400)" opacity="0.74"></line><line x1="505" y1="400" x2="295" y2="400" transform="rotate(82, 400, 400)" opacity="0.86"></line><line x1="199" y1="400" x2="601" y2="400" transform="rotate(84, 400, 400)" opacity="0.96"></line><line x1="534" y1="400" x2="266" y2="400" transform="rotate(86, 400, 400)" opacity="0.29"></line><line x1="228" y1="400" x2="572" y2="400" transform="rotate(88, 400, 400)" opacity="0.90"></line><line x1="618" y1="400" x2="182" y2="400" transform="rotate(90, 400, 400)" opacity="0.95"></line><line x1="478.5" y1="400" x2="321.5" y2="400" transform="rotate(92, 400, 400)" opacity="0.44"></line><line x1="259.5" y1="400" x2="540.5" y2="400" transform="rotate(94, 400, 400)" opacity="0.09"></line><line x1="636.5" y1="400" x2="163.5" y2="400" transform="rotate(96, 400, 400)" opacity="0.93"></line><line x1="353" y1="400" x2="447" y2="400" transform="rotate(98, 400, 400)" opacity="0.96"></line><line x1="45" y1="400" x2="755" y2="400" transform="rotate(100, 400, 400)" opacity="0.30"></line><line x1="411" y1="400" x2="389" y2="400" transform="rotate(102, 400, 400)" opacity="0.56"></line><line x1="366.5" y1="400" x2="433.5" y2="400" transform="rotate(104, 400, 400)" opacity="0.94"></line><line x1="114" y1="400" x2="686" y2="400" transform="rotate(106, 400, 400)" opacity="0.59"></line><line x1="556" y1="400" x2="244" y2="400" transform="rotate(108, 400, 400)" opacity="0.77"></line><line x1="543" y1="400" x2="257" y2="400" transform="rotate(110, 400, 400)" opacity="0.20"></line><line x1="638.5" y1="400" x2="161.5" y2="400" transform="rotate(112, 400, 400)" opacity="0.19"></line><line x1="22.5" y1="400" x2="777.5" y2="400" transform="rotate(114, 400, 400)" opacity="0.89"></line><line x1="393" y1="400" x2="407" y2="400" transform="rotate(116, 400, 400)" opacity="0.17"></line><line x1="101" y1="400" x2="699" y2="400" transform="rotate(118, 400, 400)" opacity="0.88"></line><line x1="501.5" y1="400" x2="298.5" y2="400" transform="rotate(120, 400, 400)" opacity="0.81"></line><line x1="507.5" y1="400" x2="292.5" y2="400" transform="rotate(122, 400, 400)" opacity="0.92"></line><line x1="395" y1="400" x2="405" y2="400" transform="rotate(124, 400, 400)" opacity="0.53"></line><line x1="254" y1="400" x2="546" y2="400" transform="rotate(126, 400, 400)" opacity="0.49"></line><line x1="256" y1="400" x2="544" y2="400" transform="rotate(128, 400, 400)" opacity="0.56"></line><line x1="190.5" y1="400" x2="609.5" y2="400" transform="rotate(130, 400, 400)" opacity="0.68"></line><line x1="425.5" y1="400" x2="374.5" y2="400" transform="rotate(132, 400, 400)" opacity="0.69"></line><line x1="53.5" y1="400" x2="746.5" y2="400" transform="rotate(134, 400, 400)" opacity="0.37"></line><line x1="183" y1="400" x2="617" y2="400" transform="rotate(136, 400, 400)" opacity="0.76"></line><line x1="454.5" y1="400" x2="345.5" y2="400" transform="rotate(138, 400, 400)" opacity="0.52"></line><line x1="365" y1="400" x2="435" y2="400" transform="rotate(140, 400, 400)" opacity="0.78"></line><line x1="409.5" y1="400" x2="390.5" y2="400" transform="rotate(142, 400, 400)" opacity="0.46"></line><line x1="226.5" y1="400" x2="573.5" y2="400" transform="rotate(144, 400, 400)" opacity="0.71"></line><line x1="711" y1="400" x2="89" y2="400" transform="rotate(146, 400, 400)" opacity="0.37"></line><line x1="534.5" y1="400" x2="265.5" y2="400" transform="rotate(148, 400, 400)" opacity="0.29"></line><line x1="208" y1="400" x2="592" y2="400" transform="rotate(150, 400, 400)" opacity="0.31"></line><line x1="169" y1="400" x2="631" y2="400" transform="rotate(152, 400, 400)" opacity="0.18"></line><line x1="488.5" y1="400" x2="311.5" y2="400" transform="rotate(154, 400, 400)" opacity="0.50"></line><line x1="314" y1="400" x2="486" y2="400" transform="rotate(156, 400, 400)" opacity="0.20"></line><line x1="592.5" y1="400" x2="207.5" y2="400" transform="rotate(158, 400, 400)" opacity="0.58"></line><line x1="585" y1="400" x2="215" y2="400" transform="rotate(160, 400, 400)" opacity="0.48"></line><line x1="341" y1="400" x2="459" y2="400" transform="rotate(162, 400, 400)" opacity="0.80"></line><line x1="214.5" y1="400" x2="585.5" y2="400" transform="rotate(164, 400, 400)" opacity="0.81"></line><line x1="599.5" y1="400" x2="200.5" y2="400" transform="rotate(166, 400, 400)" opacity="0.97"></line><line x1="674.5" y1="400" x2="125.5" y2="400" transform="rotate(168, 400, 400)" opacity="0.80"></line><line x1="611.5" y1="400" x2="188.5" y2="400" transform="rotate(170, 400, 400)" opacity="0.61"></line><line x1="240" y1="400" x2="560" y2="400" transform="rotate(172, 400, 400)" opacity="0.58"></line><line x1="23.5" y1="400" x2="776.5" y2="400" transform="rotate(174, 400, 400)" opacity="0.76"></line><line x1="511.5" y1="400" x2="288.5" y2="400" transform="rotate(176, 400, 400)" opacity="0.59"></line><line x1="98.5" y1="400" x2="701.5" y2="400" transform="rotate(178, 400, 400)" opacity="0.37"></line><line x1="654" y1="400" x2="146" y2="400" transform="rotate(180, 400, 400)" opacity="0.24"></line><line x1="272" y1="400" x2="528" y2="400" transform="rotate(182, 400, 400)" opacity="0.89"></line><line x1="561.5" y1="400" x2="238.5" y2="400" transform="rotate(184, 400, 400)" opacity="0.90"></line><line x1="543" y1="400" x2="257" y2="400" transform="rotate(186, 400, 400)" opacity="0.37"></line><line x1="601.5" y1="400" x2="198.5" y2="400" transform="rotate(188, 400, 400)" opacity="0.39"></line><line x1="449" y1="400" x2="351" y2="400" transform="rotate(190, 400, 400)" opacity="0.98"></line><line x1="180.5" y1="400" x2="619.5" y2="400" transform="rotate(192, 400, 400)" opacity="0.38"></line><line x1="290.5" y1="400" x2="509.5" y2="400" transform="rotate(194, 400, 400)" opacity="0.19"></line><line x1="579.5" y1="400" x2="220.5" y2="400" transform="rotate(196, 400, 400)" opacity="0.49"></line><line x1="291.5" y1="400" x2="508.5" y2="400" transform="rotate(198, 400, 400)" opacity="0.94"></line><line x1="81" y1="400" x2="719" y2="400" transform="rotate(200, 400, 400)" opacity="0.36"></line><line x1="287" y1="400" x2="513" y2="400" transform="rotate(202, 400, 400)" opacity="0.66"></line><line x1="267" y1="400" x2="533" y2="400" transform="rotate(204, 400, 400)" opacity="0.33"></line><line x1="181.5" y1="400" x2="618.5" y2="400" transform="rotate(206, 400, 400)" opacity="0.26"></line><line x1="66" y1="400" x2="734" y2="400" transform="rotate(208, 400, 400)" opacity="0.72"></line><line x1="229.5" y1="400" x2="570.5" y2="400" transform="rotate(210, 400, 400)" opacity="0.09"></line><line x1="171.5" y1="400" x2="628.5" y2="400" transform="rotate(212, 400, 400)" opacity="0.32"></line><line x1="481.5" y1="400" x2="318.5" y2="400" transform="rotate(214, 400, 400)" opacity="0.27"></line><line x1="194.5" y1="400" x2="605.5" y2="400" transform="rotate(216, 400, 400)" opacity="0.27"></line><line x1="86.5" y1="400" x2="713.5" y2="400" transform="rotate(218, 400, 400)" opacity="0.81"></line><line x1="303" y1="400" x2="497" y2="400" transform="rotate(220, 400, 400)" opacity="0.98"></line><line x1="95" y1="400" x2="705" y2="400" transform="rotate(222, 400, 400)" opacity="0.98"></line><line x1="66" y1="400" x2="734" y2="400" transform="rotate(224, 400, 400)" opacity="0.12"></line><line x1="383.5" y1="400" x2="416.5" y2="400" transform="rotate(226, 400, 400)" opacity="0.30"></line><line x1="505.5" y1="400" x2="294.5" y2="400" transform="rotate(228, 400, 400)" opacity="0.73"></line><line x1="448" y1="400" x2="352" y2="400" transform="rotate(230, 400, 400)" opacity="0.70"></line><line x1="508" y1="400" x2="292" y2="400" transform="rotate(232, 400, 400)" opacity="0.21"></line><line x1="412" y1="400" x2="388" y2="400" transform="rotate(234, 400, 400)" opacity="0.82"></line><line x1="203" y1="400" x2="597" y2="400" transform="rotate(236, 400, 400)" opacity="0.98"></line><line x1="147.5" y1="400" x2="652.5" y2="400" transform="rotate(238, 400, 400)" opacity="0.36"></line><line x1="56" y1="400" x2="744" y2="400" transform="rotate(240, 400, 400)" opacity="0.91"></line><line x1="239.5" y1="400" x2="560.5" y2="400" transform="rotate(242, 400, 400)" opacity="0.35"></line><line x1="485" y1="400" x2="315" y2="400" transform="rotate(244, 400, 400)" opacity="0.89"></line><line x1="741.5" y1="400" x2="58.5" y2="400" transform="rotate(246, 400, 400)" opacity="0.80"></line><line x1="557.5" y1="400" x2="242.5" y2="400" transform="rotate(248, 400, 400)" opacity="1.00"></line><line x1="345" y1="400" x2="455" y2="400" transform="rotate(250, 400, 400)" opacity="0.50"></line><line x1="505" y1="400" x2="295" y2="400" transform="rotate(252, 400, 400)" opacity="0.13"></line><line x1="583.5" y1="400" x2="216.5" y2="400" transform="rotate(254, 400, 400)" opacity="0.37"></line><line x1="52" y1="400" x2="748" y2="400" transform="rotate(256, 400, 400)" opacity="0.58"></line><line x1="676" y1="400" x2="124" y2="400" transform="rotate(258, 400, 400)" opacity="0.69"></line><line x1="180" y1="400" x2="620" y2="400" transform="rotate(260, 400, 400)" opacity="0.29"></line><line x1="528" y1="400" x2="272" y2="400" transform="rotate(262, 400, 400)" opacity="0.42"></line><line x1="610.5" y1="400" x2="189.5" y2="400" transform="rotate(264, 400, 400)" opacity="0.64"></line><line x1="405.5" y1="400" x2="394.5" y2="400" transform="rotate(266, 400, 400)" opacity="0.45"></line><line x1="247" y1="400" x2="553" y2="400" transform="rotate(268, 400, 400)" opacity="0.70"></line><line x1="307.5" y1="400" x2="492.5" y2="400" transform="rotate(270, 400, 400)" opacity="0.28"></line><line x1="612.5" y1="400" x2="187.5" y2="400" transform="rotate(272, 400, 400)" opacity="0.43"></line><line x1="235.5" y1="400" x2="564.5" y2="400" transform="rotate(274, 400, 400)" opacity="0.74"></line><line x1="720.5" y1="400" x2="79.5" y2="400" transform="rotate(276, 400, 400)" opacity="0.52"></line><line x1="323" y1="400" x2="477" y2="400" transform="rotate(278, 400, 400)" opacity="0.55"></line><line x1="358" y1="400" x2="442" y2="400" transform="rotate(280, 400, 400)" opacity="0.79"></line><line x1="48.5" y1="400" x2="751.5" y2="400" transform="rotate(282, 400, 400)" opacity="0.59"></line><line x1="531.5" y1="400" x2="268.5" y2="400" transform="rotate(284, 400, 400)" opacity="0.64"></line><line x1="670.5" y1="400" x2="129.5" y2="400" transform="rotate(286, 400, 400)" opacity="0.91"></line><line x1="428" y1="400" x2="372" y2="400" transform="rotate(288, 400, 400)" opacity="0.41"></line><line x1="667" y1="400" x2="133" y2="400" transform="rotate(290, 400, 400)" opacity="0.66"></line><line x1="168" y1="400" x2="632" y2="400" transform="rotate(292, 400, 400)" opacity="0.47"></line><line x1="243.5" y1="400" x2="556.5" y2="400" transform="rotate(294, 400, 400)" opacity="0.93"></line><line x1="424.5" y1="400" x2="375.5" y2="400" transform="rotate(296, 400, 400)" opacity="0.97"></line><line x1="582.5" y1="400" x2="217.5" y2="400" transform="rotate(298, 400, 400)" opacity="0.12"></line><line x1="471" y1="400" x2="329" y2="400" transform="rotate(300, 400, 400)" opacity="0.55"></line><line x1="143" y1="400" x2="657" y2="400" transform="rotate(302, 400, 400)" opacity="0.63"></line><line x1="319.5" y1="400" x2="480.5" y2="400" transform="rotate(304, 400, 400)" opacity="0.18"></line><line x1="225" y1="400" x2="575" y2="400" transform="rotate(306, 400, 400)" opacity="0.34"></line><line x1="162" y1="400" x2="638" y2="400" transform="rotate(308, 400, 400)" opacity="0.48"></line><line x1="170.5" y1="400" x2="629.5" y2="400" transform="rotate(310, 400, 400)" opacity="0.13"></line><line x1="297" y1="400" x2="503" y2="400" transform="rotate(312, 400, 400)" opacity="0.64"></line><line x1="58" y1="400" x2="742" y2="400" transform="rotate(314, 400, 400)" opacity="0.57"></line><line x1="433.5" y1="400" x2="366.5" y2="400" transform="rotate(316, 400, 400)" opacity="0.12"></line>
              </g>
          </g>
          
          <!-- Shape Element (Visible Stroke) -->
          <path id="star-shape" fill="none" stroke="white" stroke-width="2" />
          
        </svg>

        <div class="controls">
            <label for="morphSlider">Morph: 5-Star <---- Circle ----> 8-Star</label>
            <input type="range" id="morphSlider" min="0" max="100" value="50">
            <div id="statusValue">Circle</div>
        </div>
        
        <div class="controls">
            <label for="opacitySlider">Shape Opacity: <span id="opacityValue">1.0</span></label>
            <input type="range" id="opacitySlider" min="0" max="1" step="0.1" value="1.0">
        </div>
    </div>

    <script>
        const slider = document.getElementById('morphSlider');
        const statusValue = document.getElementById('statusValue');
        const starPath = document.getElementById('star-shape');
        
        const opacitySlider = document.getElementById('opacitySlider');
        const opacityValue = document.getElementById('opacityValue');
        const bgVectors = document.getElementById('background-vectors');

        // Initial update
        updateShape(slider.value);

        slider.addEventListener('input', (e) => {
            const val = parseInt(e.target.value);
            updateShape(val);
        });
        
        opacitySlider.addEventListener('input', (e) => {
            const val = e.target.value;
            opacityValue.textContent = val;
            bgVectors.setAttribute('opacity', val);
        });

        function updateShape(val) {
            // Logic:
            // 0-45: 5-Star (Morphing from sharp to dull)
            // 45-55: Circle
            // 55-100: 8-Star (Morphing from dull to sharp)
            
            const center = 100;
            const outerRadius = 80;

            let points, intensity;
            let d = "";

            if (val > 45 && val < 55) {
                // Circle Mode
                statusValue.textContent = "Circle";
                d = `M 100,20 A 80,80 0 1,1 100,180 A 80,80 0 1,1 100,20 Z`;
            } else {
                if (val <= 45) {
                    points = 5;
                    // Map 0 -> 1 (sharp), 45 -> 0 (dull)
                    intensity = (45 - val) / 45;
                    statusValue.textContent = "5-Point Star";
                } else {
                    points = 8;
                    // Map 55 -> 0 (dull), 100 -> 1 (sharp)
                    intensity = (val - 55) / 45;
                    statusValue.textContent = "8-Point Star";
                }

                // Inner radius varies based on intensity.
                // Intensity 0 -> Inner Radius almost Outer Radius? No, Polygon.
                // Intensity 1 -> Inner Radius small (Sharp star).
                const innerRadius = outerRadius * (1 - 0.6 * intensity); // At max intensity, inner is 40% of outer
                
                d = generateStarPath(center, center, points, outerRadius, innerRadius);
            }
            
            starPath.setAttribute('d', d);
        }

        function generateStarPath(cx, cy, spikes, outerRadius, innerRadius) {
            let rot = Math.PI / 2 * 3;
            let step = Math.PI / spikes;

            // Helper to get point at angle/radius
            function getPoint(angle, radius) {
                return {
                    x: cx + Math.cos(angle) * radius,
                    y: cy + Math.sin(angle) * radius
                };
            }
            // Clean implementation:
            const points = [];
            for (let i = 0; i < spikes; i++) {
                points.push(getPoint(rot, outerRadius)); // Outer
                rot += step;
                points.push(getPoint(rot, innerRadius)); // Inner
                rot += step;
            }

            // Now build path with rounding
            let d = "";
            const len = points.length;
            
            for (let i = 0; i < len; i++) {
                const curr = points[i];
                const prev = points[(i - 1 + len) % len];
                const next = points[(i + 1) % len];

                // Distance to neighbors
                const distPrev = Math.sqrt(Math.pow(curr.x - prev.x, 2) + Math.pow(curr.y - prev.y, 2));
                const distNext = Math.sqrt(Math.pow(curr.x - next.x, 2) + Math.pow(curr.y - next.y, 2));
                
                // Rounding radius: use a fraction of the shortest side connected to this vertex
                const radius = Math.min(distPrev, distNext) * 0.35; // 35% rounding

                // Vector from curr to prev
                const vPrevX = (prev.x - curr.x) / distPrev;
                const vPrevY = (prev.y - curr.y) / distPrev;
                
                // Vector from curr to next
                const vNextX = (next.x - curr.x) / distNext;
                const vNextY = (next.y - curr.y) / distNext;

                // Start of curve (on line from prev to curr)
                const startX = curr.x + vPrevX * radius;
                const startY = curr.y + vPrevY * radius;

                // End of curve (on line from curr to next)
                const endX = curr.x + vNextX * radius;
                const endY = curr.y + vNextY * radius;

                if (i === 0) {
                    d += `M ${startX},${startY} `;
                } else {
                    d += `L ${startX},${startY} `;
                }
                
                // Curve through the corner using curr as control point
                d += `Q ${curr.x},${curr.y} ${endX},${endY} `;
            }
            
            d += "Z";
            return d;
        }
    </script>
</body>
</html>
